@model Humica.Logic.PR.PRGenerate_Salary
@{
    var gridExtension = Html.DevExpress().GridView(
           settings =>
           {

               settings.Name = "Gridview";
               settings.KeyFieldName = "EmpCode";
               settings.EnableTheming = true;
               settings.EnableRowsCache = true;
               settings.Width = Unit.Percentage(100);
               settings.SettingsSearchPanel.Visible = true;
               settings.CallbackRouteValues = new { Action = "GridItems", Controller = "PRGenerateSeniority" };

               settings.SettingsBehavior.ConfirmDelete = true;

               settings.CommandColumn.Visible = true;
               settings.CommandColumn.SelectAllCheckboxMode = GridViewSelectAllCheckBoxMode.AllPages;
               settings.Settings.ShowGroupPanel = false;
               settings.Settings.ShowFooter = true;
               settings.SettingsContextMenu.Enabled = true;
               settings.SettingsContextMenu.RowMenuItemVisibility.DeleteRow = false;
               settings.SettingsContextMenu.RowMenuItemVisibility.EditRow = false;
               settings.SettingsContextMenu.RowMenuItemVisibility.NewRow = false;
               settings.Settings.ShowHeaderFilterButton = true;
               settings.SettingsPopup.HeaderFilter.Height = 200;
               settings.CommandColumn.ShowSelectCheckbox = true;
               settings.CommandColumn.FixedStyle = GridViewColumnFixedStyle.Left;
               settings.CommandColumn.Width = 50;
               //settings.SettingsDataSecurity.AllowReadUnlistedFieldsFromClientApi = DefaultBoolean.True;
               settings.CommandColumn.Width = 50;

               settings.Columns.Add(column =>
               {
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("EmpCode");
                   column.Width = 120;
                   column.FieldName = "EmpCode";
                   column.ColumnType = MVCxGridViewColumnType.TextBox;
               });
               settings.Columns.Add(column =>
               {
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("AllName");
                   column.Width = 150;

                   column.FieldName = "AllName";
                   column.ColumnType = MVCxGridViewColumnType.TextBox;

               });
               //settings.Columns.Add(column =>
               //{
               //    column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Gender");
               //    column.Width = 80;
               //    column.FieldName = "Sex";
               //    column.ColumnType = MVCxGridViewColumnType.TextBox;
               //});

               settings.Columns.Add(column =>
               {
                   column.Width = 200;
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Department");
                   column.FieldName = "Department";
                   column.ColumnType = MVCxGridViewColumnType.TextBox;
               });
               settings.Columns.Add(column =>
               {
                   column.Width = 200;
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Position");
                   column.FieldName = "Position";
                   column.ColumnType = MVCxGridViewColumnType.TextBox;
               });
               settings.Columns.Add(column =>
               {
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("StartDate");
                   column.FieldName = "StartDate";
                   column.ColumnType = MVCxGridViewColumnType.DateEdit;
                   column.PropertiesEdit.DisplayFormatString = ViewData[Humica.EF.SYSConstant.DATE_FORMAT].ToString();
               });
               settings.Columns.Add(column =>
               {
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Probation");
                   column.FieldName = "Probation";
                   column.ColumnType = MVCxGridViewColumnType.DateEdit;
                   column.PropertiesEdit.DisplayFormatString = ViewData[Humica.EF.SYSConstant.DATE_FORMAT].ToString();
               });
               //settings.Columns.Add(column =>
               //{
               //    column.Width = 90;
               //    column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Salary");
               //    column.FieldName = "Salary";
               //    column.ColumnType = MVCxGridViewColumnType.SpinEdit;
               //    column.PropertiesEdit.DisplayFormatString = "N2";
               //});

               //settings.Columns.Add(column =>
               //{
               //    column.Width = 90;
               //    column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Balance");
               //    column.FieldName = "Balance";
               //    column.ColumnType = MVCxGridViewColumnType.SpinEdit;
               //    column.PropertiesEdit.DisplayFormatString = "N2";
               //});
               //settings.Columns.Add(column =>
               //{
               //    column.Width = 200;
               //    column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Remark");
               //    column.FieldName = "Remark";
               //    column.ColumnType = MVCxGridViewColumnType.TextBox;
               //});
               settings.Columns.AddBand(Col =>
               {
                   Col.FixedStyle = GridViewColumnFixedStyle.None;
                   Col.Caption = Model.InYear.ToString();
                   Col.HeaderStyle.HorizontalAlign = HorizontalAlign.Center;
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Jan");
                       column.FieldName = "Jan";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Feb");
                       column.FieldName = "Feb";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Mar");
                       column.FieldName = "Mar";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Apr");
                       column.FieldName = "Apr";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("May");
                       column.FieldName = "May";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Jun");
                       column.FieldName = "Jun";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Jul");
                       column.FieldName = "Jul";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Aug");
                       column.FieldName = "Aug";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Sep");
                       column.FieldName = "Sep";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Oct");
                       column.FieldName = "Oct";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Nov");
                       column.FieldName = "Nov";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
                   Col.Columns.Add(column =>
                   {
                       column.Width = 90;
                       column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Dec");
                       column.FieldName = "Dec";
                       column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                       column.PropertiesEdit.DisplayFormatString = "N2";
                   });
               });
               settings.Columns.Add(column =>
               {
                   column.Width = 90;
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Average");
                   column.FieldName = "Average";
                   column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                   column.PropertiesEdit.DisplayFormatString = "N2";
               });
               settings.Columns.Add(column =>
               {
                   column.Width = 80;
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("Rate");
                   column.FieldName = "Rate";
                   column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                   column.PropertiesEdit.DisplayFormatString = "N2";
               });
               settings.Columns.Add(column =>
               {
                   column.Width = 125;
                   column.Caption = Humica.EF.Models.SY.SYSettings.getLabel("TotalAmount");
                   column.FieldName = "TotalAmount";
                   column.ColumnType = MVCxGridViewColumnType.SpinEdit;
                   column.PropertiesEdit.DisplayFormatString = "N2";
               });
               settings.SettingsBehavior.EnableCustomizationWindow = false;

               settings.PreRender = (s, e) =>
               {

               };

               settings.CustomJSProperties = (s, e) =>
               {
                   ASPxGridView grid = (ASPxGridView)s;
                   Session[Humica.EF.SYSConstant.GRID_VIEW_LAYOUT_DETAIL + ViewData[Humica.EF.SYSConstant.SCREEN_ID].ToString()] = grid.AllColumns;
                   Session[Humica.EF.SYSConstant.GRID_VIEW_SOURCE_DETAIL + ViewData[Humica.EF.SYSConstant.SCREEN_ID].ToString()] = grid.DataSource;

                   e.Properties["cpVisibleRowCount"] = (s as MVCxGridView).VisibleRowCount;

               };
               settings.Init = (send, evargs) =>
               {
                   MVCxGridView gv = send as MVCxGridView;
                   if (Model.IsJan == false)
                   {
                       gv.Columns["Jan"].Visible = false;
                   }
                   if (Model.IsFeb == false)
                   {
                       gv.Columns["Feb"].Visible = false;
                   }
                   if (Model.IsMar == false)
                   {
                       gv.Columns["Mar"].Visible = false;
                   }
                   if (Model.IsApr == false)
                   {
                       gv.Columns["Apr"].Visible = false;
                   }
                   if (Model.IsMay == false)
                   {
                       gv.Columns["May"].Visible = false;
                   }
                   if (Model.IsJun == false)
                   {
                       gv.Columns["Jun"].Visible = false;
                   }
                   if (Model.IsJul == false)
                   {
                       gv.Columns["Jul"].Visible = false;
                   }
                   if (Model.IsAug == false)
                   {
                       gv.Columns["Aug"].Visible = false;
                   }
                   if (Model.IsSep == false)
                   {
                       gv.Columns["Sep"].Visible = false;
                   }
                   if (Model.IsOct == false)
                   {
                       gv.Columns["Oct"].Visible = false;
                   }
                   if (Model.IsNov == false)
                   {
                       gv.Columns["Nov"].Visible = false;
                   }
                   if (Model.IsDec == false)
                   {
                       gv.Columns["Dec"].Visible = false;
                   }
               };
               settings.DataBinding = (send, evargs) =>
               {
                   MVCxGridView gv = send as MVCxGridView;
                   if (Model.IsJan == false)
                   {
                       gv.Columns["Jan"].Visible = false;
                   }
                   if (Model.IsFeb == false)
                   {
                       gv.Columns["Feb"].Visible = false;
                   }
                   if (Model.IsMar == false)
                   {
                       gv.Columns["Mar"].Visible = false;
                   }
                   if (Model.IsApr == false)
                   {
                       gv.Columns["Apr"].Visible = false;
                   }
                   if (Model.IsMay == false)
                   {
                       gv.Columns["May"].Visible = false;
                   }
                   if (Model.IsJun == false)
                   {
                       gv.Columns["Jun"].Visible = false;
                   }
                   if (Model.IsJul == false)
                   {
                       gv.Columns["Jul"].Visible = false;
                   }
                   if (Model.IsAug == false)
                   {
                       gv.Columns["Aug"].Visible = false;
                   }
                   if (Model.IsSep == false)
                   {
                       gv.Columns["Sep"].Visible = false;
                   }
                   if (Model.IsOct == false)
                   {
                       gv.Columns["Oct"].Visible = false;
                   }
                   if (Model.IsNov == false)
                   {
                       gv.Columns["Nov"].Visible = false;
                   }
                   if (Model.IsDec == false)
                   {
                       gv.Columns["Dec"].Visible = false;
                   }
               };
               settings.SettingsPager.Position = PagerPosition.Bottom;
               settings.SettingsPager.FirstPageButton.Visible = true;
               settings.SettingsPager.LastPageButton.Visible = true;

               settings.SettingsBehavior.AllowFocusedRow = true;

               settings.SettingsBehavior.ColumnResizeMode = ColumnResizeMode.Control;

               settings.Settings.HorizontalScrollBarMode = ScrollBarMode.Visible;
               //settings.Settings.VerticalScrollBarMode = ScrollBarMode.Visible;
               settings.Settings.VerticalScrollableHeight = Humica.EF.MD.SYSession.DealerPageHeigh;

               settings.SettingsBehavior.AllowFocusedRow = true;
               settings.SettingsBehavior.ColumnResizeMode = ColumnResizeMode.Control;
               settings.SettingsBehavior.AllowEllipsisInText = true;
               settings.ClientSideEvents.SelectionChanged = "OnSelectionChanged";

               settings.SettingsPager.Visible = true;
               settings.SettingsPager.PageSizeItemSettings.Visible = false;
               settings.SettingsPager.PageSize = 122;

               settings.SettingsExport.ExcelExportMode = DevExpress.Export.ExportType.WYSIWYG;
               settings.SettingsExport.EnableClientSideExportAPI = true;
               settings.SettingsExport.FileName = "Seniority Payment";
               settings.Toolbars.Add(t =>
               {
                   t.Items.Add(GridViewToolbarCommand.ExportToXlsx);
               });
               settings.SettingsExport.RenderBrick = (sender, e) =>
               {
                   if (e.RowType == GridViewRowType.Data && e.VisibleIndex % 2 == 0)
                       e.BrickStyle.BackColor = System.Drawing.Color.Beige;
               };
           });
}

@gridExtension.Bind(Model.ListEmpSeniority).GetHtml()
